import{_ as r}from"./powerly-tutorial-introduction-example-validation.b7a17db1.js";import{_ as p,o as c,c as d,a as e,b as n,w as l,e as s,d as t,r as i}from"../app.a6c69c54.mjs";const h="/images/content/powerly-tutorial-introduction-example-step-3.png",u={},D=e("h1",{id:"introduction",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#introduction","aria-hidden":"true"},"#"),s(" Introduction")],-1),m=e("code",null,"powerly",-1),y=s(" is an "),v=e("code",null,"R",-1),_=s(" package developed to provide support for researchers who "),g=e("em",null,"wish",-1),f=s(" to perform power analysis. At its core, "),b=e("code",null,"powerly",-1),C=s(" is based on the method proposed by "),E={href:"https://doi.org/10.1037/met0000555",target:"_blank",rel:"noopener noreferrer"},w=s("Constantin et al. (2023)"),k=t(', which takes the form of a three-step algorithm designed to iteratively search for an optimal sample size, given some user input. It takes as input a set of hypothesized true model parameters (i.e., an effect size), a performance measure of interest and its corresponding target value (e.g., a sensitivity of <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.6</span></span></span></span>), and a statistic that describes <em>how</em> the performance measure value should be reached (e.g., reaching a sensitivity of <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.6</span></span></span></span> with a probability of <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.8</span></span></span></span>). The search for the optimal sample size is conducted in three steps, starting with a Monte Carlo simulation step for computing the performance measure and statistic at various sample sizes within a candidate sample size range. It continues with a monotone curve-fitting step for interpolating the statistic. The final step employs stratified bootstrapping to quantify the uncertainty around the fitted curve. For more details, consult the ',9),x={href:"https://doi.org/10.1037/met0000555",target:"_blank",rel:"noopener noreferrer"},A=s("manuscript"),F=s(" (i.e., or the "),z={href:"https://psyarxiv.com/j5v7u",target:"_blank",rel:"noopener noreferrer"},q=s("preprint"),I=s(" for better formatting) or check out the "),B=s("tutorial"),T=s(" section."),N=e("p",null,[s("Next, I will provide a quick overview on how to get started with "),e("code",null,"powerly"),s(", list the main functions available in the package, and highlight the main steps involved in using "),e("code",null,"powerly"),s(" for running a power analysis.")],-1),R={class:"custom-container tip"},G=e("p",{class:"custom-container-title"},"TIP",-1),S=s("If you are interested in building upon or extending "),P=e("code",null,"powerly",-1),W=s(", check out the "),M=s("Developer Section"),L=s(" where the package "),U=e("code",null,"API",-1),V=s(" and the design choices are discussed in detail."),j=e("h2",{id:"installation",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#installation","aria-hidden":"true"},"#"),s(" Installation")],-1),Y=s("You can install the latest version of "),H=e("code",null,"powerly",-1),O=s(" from "),Q={href:"https://cran.r-project.org/web/packages/powerly/index.html",target:"_blank",rel:"noopener noreferrer"},$=e("code",null,"CRAN",-1),J=s(" (i.e., the official "),K=e("code",null,"R",-1),X=s(" package repository) running the following command:"),Z=t(`<div class="language-r ext-r"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#DCDCAA;">install.packages</span><span style="color:#D4D4D4;">(</span><span style="color:#CE9178;">&quot;powerly&quot;</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"></span></code></pre></div>`,1),ss=s("Alternatively, you can install the "),es={href:"https://github.com/mihaiconstantin/powerly/releases/latest",target:"_blank",rel:"noopener noreferrer"},ns=s("latest development version"),as=s(" from "),ts=e("code",null,"GitHub",-1),os=s(" via:"),ls=t(`<details class="custom-container details"><summary>Click to expand optional step.</summary><div class="language-r ext-r line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#6A9955;"># Install the \`remotes\` package if necessary.</span></span>
<span class="line"><span style="color:#DCDCAA;">install.packages</span><span style="color:#D4D4D4;">(</span><span style="color:#CE9178;">&quot;remotes&quot;</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></details><div class="language-r ext-r"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">remotes</span><span style="color:#569CD6;">::</span><span style="color:#9CDCFE;">install_github</span><span style="color:#D4D4D4;">(</span><span style="color:#CE9178;">&quot;mihaiconstantin/powerly&quot;</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"></span></code></pre></div>`,2),is={class:"custom-container tip"},rs=e("p",{class:"custom-container-title"},"TIP",-1),ps=s("You may consult the "),cs={href:"https://github.com/mihaiconstantin/powerly/blob/main/NEWS.md",target:"_blank",rel:"noopener noreferrer"},ds=s("News"),hs=s(" or the "),us={href:"https://github.com/mihaiconstantin/powerly/releases",target:"_blank",rel:"noopener noreferrer"},Ds=e("code",null,"GitHub",-1),ms=s(" releases"),ys=s(" for an overview of the latest changes in the development version."),vs=t('<h2 id="functions" tabindex="-1"><a class="header-anchor" href="#functions" aria-hidden="true">#</a> Functions</h2><p><code>powerly</code> exports three functions available to researchers for conducting sample size analysis.</p><table><thead><tr><th style="text-align:left;">Function Name</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><a href="/reference/function/generate-model"><code>generate_model</code></a></td><td style="text-align:left;">Used for generating true models parameters when manually specifying them is non-trivial.</td></tr><tr><td style="text-align:left;"><a href="/reference/function/powerly"><code>powerly</code></a></td><td style="text-align:left;">The <em>main</em> function of the package implementing the sample size calculation method described above.</td></tr><tr><td style="text-align:left;"><a href="/reference/function/validate"><code>validate</code></a></td><td style="text-align:left;">Used for assessing the quality of the sample size recommendation obtained after running the <a href="/reference/function/powerly"><code>powerly</code></a> function.</td></tr></tbody></table>',3),_s={class:"custom-container tip"},gs=e("p",{class:"custom-container-title"},"TIP",-1),fs=s("Check out the "),bs=s("Reference Section"),Cs=s(" corresponding to each function for detailed information about the available arguments and the output provided."),Es=t(`<h2 id="usage" tabindex="-1"><a class="header-anchor" href="#usage" aria-hidden="true">#</a> Usage</h2><p>We start by attaching the <code>powerly</code> package.</p><div class="language-r ext-r line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#6A9955;"># Load the package.</span></span>
<span class="line"><span style="color:#DCDCAA;">library</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">powerly</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>Suppose we want to find the sample size required to observe a sensitivity of <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.6</span></span></span></span> with a probability of <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.8</span></span></span></span> for an arbitrary Gaussian Graphical Model (GGM) consisting of <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">10</span></span></span></span> nodes with an edge density of <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.4</span></span></span></span>.</p><p>We start by specifying the true model (i.e., in this case an edge weights matrix encoding of partial correlation coefficients), or we can generate one using the <a href="/reference/function/generate-model"><code>generate_model</code></a> function. For example, this can be achieved by running:</p><details class="custom-container details"><summary>Click to see the seed used for reproducibility.</summary><p>We may set a seed to ensure that we generate the same true model. While this will not lead to the exact same sample size recommendation for each repeated run of the method (i.e., due to the randomness involved in the Monte Carlo procedure), the method will still, on average, provide the optimal sample size value (i.e., around <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">525</span></span></span></span> for this particular example).</p><div class="language-r ext-r line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#6A9955;"># Set a seed.</span></span>
<span class="line"><span style="color:#DCDCAA;">set.seed</span><span style="color:#D4D4D4;">(</span><span style="color:#B5CEA8;">20031993</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></details><div class="language-r ext-r line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#6A9955;"># Generate a \`GGM\` model.</span></span>
<span class="line"><span style="color:#9CDCFE;">true_model</span><span style="color:#D4D4D4;"> &lt;- </span><span style="color:#9CDCFE;">generate_model</span><span style="color:#D4D4D4;">(</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">type</span><span style="color:#D4D4D4;"> = </span><span style="color:#CE9178;">&quot;ggm&quot;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">nodes</span><span style="color:#D4D4D4;"> = </span><span style="color:#B5CEA8;">10</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">density</span><span style="color:#D4D4D4;"> = </span><span style="color:#B5CEA8;">.4</span></span>
<span class="line"><span style="color:#D4D4D4;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Then, we can supply the <code>true_model</code> object to the <a href="/reference/function/powerly"><code>powerly</code></a> function to start the search for the sample size. Alongside the <code>true_model</code> we may also specify a number of other arguments that constitute the method parameters.</p><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>You may also run <code>?powerly</code> in <code>R</code> to bring up the documentation and learn more about the role of each argument in the <a href="/reference/function/powerly"><code>powerly</code></a> function.</p></div><div class="language-r ext-r line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#6A9955;"># Run the method.</span></span>
<span class="line"><span style="color:#9CDCFE;">results</span><span style="color:#D4D4D4;"> &lt;- </span><span style="color:#9CDCFE;">powerly</span><span style="color:#D4D4D4;">(</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">range_lower</span><span style="color:#D4D4D4;"> = </span><span style="color:#B5CEA8;">300</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">range_upper</span><span style="color:#D4D4D4;"> = </span><span style="color:#B5CEA8;">700</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">samples</span><span style="color:#D4D4D4;"> = </span><span style="color:#B5CEA8;">30</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">replications</span><span style="color:#D4D4D4;"> = </span><span style="color:#B5CEA8;">40</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">measure</span><span style="color:#D4D4D4;"> = </span><span style="color:#CE9178;">&quot;sen&quot;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">statistic</span><span style="color:#D4D4D4;"> = </span><span style="color:#CE9178;">&quot;power&quot;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">measure_value</span><span style="color:#D4D4D4;"> = </span><span style="color:#B5CEA8;">.6</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">statistic_value</span><span style="color:#D4D4D4;"> = </span><span style="color:#B5CEA8;">.8</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">model</span><span style="color:#D4D4D4;"> = </span><span style="color:#CE9178;">&quot;ggm&quot;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">model_matrix</span><span style="color:#D4D4D4;"> = </span><span style="color:#9CDCFE;">true_model</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">cores</span><span style="color:#D4D4D4;"> = </span><span style="color:#B5CEA8;">7</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">verbose</span><span style="color:#D4D4D4;"> = </span><span style="color:#569CD6;">TRUE</span></span>
<span class="line"><span style="color:#D4D4D4;">)</span></span>
<span class="line"></span></code></pre><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><div class="highlight-line">\xA0</div><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>At this point we can summarize the results.</p><div class="language-r ext-r line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#6A9955;"># Summarize the method run.</span></span>
<span class="line"><span style="color:#DCDCAA;">summary</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">results</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-txt ext-txt"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;"> Method completed:</span></span>
<span class="line"><span style="color:#D4D4D4;"> - duration: 2.94 seconds</span></span>
<span class="line"><span style="color:#D4D4D4;"> - converged: yes (1 iterations)</span></span>
<span class="line"><span style="color:#D4D4D4;"> - performance measure: \`sen\` (target: 0.6)</span></span>
<span class="line"><span style="color:#D4D4D4;"> - statistic: \`power\` (target: 0.8)</span></span>
<span class="line"><span style="color:#D4D4D4;"> - sample size recommendation: 531</span></span>
<span class="line"><span style="color:#D4D4D4;"></span></span></code></pre></div><p>Or better visualize them.</p><div class="language-r ext-r line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#6A9955;"># Plot method run.</span></span>
<span class="line"><span style="color:#DCDCAA;">plot</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">results</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>Which will produce a plot similar to the one below.</p><div class="showcase-image"><img src="`+h+`" alt="Example of Step 3 output for powerly package"></div><p>Optionally, we may also validate the sample size recommendation using the <a href="/reference/function/validate"><code>validate</code></a> function by passing in the output obtained from the <a href="/reference/function/powerly"><code>powerly</code></a> function, followed by plotting the validation results.</p><div class="language-r ext-r line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#6A9955;"># Run validation.</span></span>
<span class="line"><span style="color:#9CDCFE;">validation</span><span style="color:#D4D4D4;"> &lt;- </span><span style="color:#9CDCFE;">validate</span><span style="color:#D4D4D4;">(</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">method</span><span style="color:#D4D4D4;"> = </span><span style="color:#9CDCFE;">results</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">replications</span><span style="color:#D4D4D4;"> = </span><span style="color:#B5CEA8;">3000</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">cores</span><span style="color:#D4D4D4;"> = </span><span style="color:#B5CEA8;">9</span></span>
<span class="line"><span style="color:#D4D4D4;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;"># Plot validation.</span></span>
<span class="line"><span style="color:#DCDCAA;">plot</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">validation</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"></span></code></pre><div class="highlight-lines"><br><br><div class="highlight-line">\xA0</div><br><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Which will result in the following:</p><div class="showcase-image"><img src="`+r+'" alt="Example of validation output for powerly package"></div><p>We may also choose to provide a specific sample size for the validation via the <code>sample</code> argument. In this case, the validation will be run for the provided sample size instead. Providing a specific <code>sample</code> value is akin to manually searching for an optimal value.</p><h2 id="next-steps" tabindex="-1"><a class="header-anchor" href="#next-steps" aria-hidden="true">#</a> Next Steps</h2>',23),ws=s("This introduction is intended to provide the bare minimum information needed to get started with "),ks=e("code",null,"powerly",-1),xs=s(". If you want to learn more about where the numbers come from, I encourage you to check out the "),As={href:"https://doi.org/10.1037/met0000555",target:"_blank",rel:"noopener noreferrer"},Fs=s("manuscript"),zs=s(", or read the "),qs=e("a",{href:"/tutorial/method"},"next post",-1),Is=s(" where I succinctly describe the terminology and the steps of the method. From there, you may continue with "),Bs=e("em",null,"applications",-1),Ts=s(" of the methods to different models (e.g., psychological networks, structural equation models etc.), or by checking out the posts under the "),Ns=e("em",null,"FAQ",-1),Rs=s(", where I discuss tips and tricks for how to efficiently use "),Gs=e("code",null,"powerly",-1),Ss=s(".");function Ps(Ws,Ms){const a=i("ExternalLinkIcon"),o=i("RouterLink");return c(),d("div",null,[D,e("p",null,[m,y,v,_,g,f,b,C,e("a",E,[w,n(a)]),k,e("a",x,[A,n(a)]),F,e("a",z,[q,n(a)]),I,n(o,{to:"/tutorial/"},{default:l(()=>[B]),_:1}),T]),N,e("div",R,[G,e("p",null,[S,P,W,n(o,{to:"/developer/"},{default:l(()=>[M]),_:1}),L,U,V])]),j,e("p",null,[Y,H,O,e("a",Q,[$,n(a)]),J,K,X]),Z,e("p",null,[ss,e("a",es,[ns,n(a)]),as,ts,os]),ls,e("div",is,[rs,e("p",null,[ps,e("a",cs,[ds,n(a)]),hs,e("a",us,[Ds,ms,n(a)]),ys])]),vs,e("div",_s,[gs,e("p",null,[fs,n(o,{to:"/reference/"},{default:l(()=>[bs]),_:1}),Cs])]),Es,e("p",null,[ws,ks,xs,e("a",As,[Fs,n(a)]),zs,qs,Is,Bs,Ts,Ns,Rs,Gs,Ss])])}const Vs=p(u,[["render",Ps],["__file","index.html.vue"]]);export{Vs as default};
